# see deps.sh in the downloaded archive's tldr-c-client-*/ folder for dependencies depending on your target system

download() {
    [ -f tldr_c_client-1.6.1.tar.gz ] || wget -t 3 -T 60 -O tldr_c_client-1.6.1.tar.gz https://github.com/tldr-pages/tldr-c-client/archive/refs/tags/v1.6.1.tar.gz
}

build() {
    tar -xzf tldr_c_client-1.6.1.tar.gz
    cd tldr-c-client-1.6.1/

    make
    make install

    # enable autocompletion for bash

    # uncomment the following lines when https://github.com/tldr-pages/tldr-c-client/pull/113 is merged and new release is made
    # the fix is currently directly included in woof-CE

    # mkdir -p /usr/share/bash-completion/completions/
    # mv autocomplete/complete.bash /usr/share/bash-completion/completions/tldr
}
